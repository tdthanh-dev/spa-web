# Environment Configuration for CRM Spa Dr. Oha
# Copy this file to .env and update the values

# ==================================================
# DATABASE CONFIGURATION
# ==================================================
POSTGRES_DB=crm_spa
POSTGRES_USER=postgres
POSTGRES_PASSWORD=1234
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Spring DataSource URL (external container communication)
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/crm_spa
SPRING_DATASOURCE_USERNAME=postgres
SPRING_DATASOURCE_PASSWORD=1234

# ==================================================
# REDIS CONFIGURATION
# ==================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# Spring Redis Configuration (external container communication)
SPRING_DATA_REDIS_HOST=localhost
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_DATABASE=0
SPRING_DATA_REDIS_TIMEOUT=2000ms
SPRING_DATA_REDIS_LETTUCE_POOL_MAX_ACTIVE=8
SPRING_DATA_REDIS_LETTUCE_POOL_MAX_IDLE=8
SPRING_DATA_REDIS_LETTUCE_POOL_MIN_IDLE=0
SPRING_DATA_REDIS_LETTUCE_POOL_MAX_WAIT=-1ms
SPRING_DATA_REDIS_PASSWORD=

# ==================================================
# JWT CONFIGURATION
# ==================================================
# JWT Secret Key (must be at least 256 bits)
JWT_SECRET=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970
# JWT Expiration Time (24 hours in milliseconds)
JWT_EXPIRATION=86400000
# Refresh Token Expiration Time (7 days in milliseconds)
JWT_REFRESH_EXPIRATION=604800000

# ==================================================
# APPLICATION CONFIGURATION
# ==================================================
SPRING_PROFILES_ACTIVE=docker
SERVER_PORT=8081
SERVER_SERVLET_CONTEXT_PATH=/

# ==================================================
# LOGGING CONFIGURATION
# ==================================================
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_HTTTQL_CRM_AUTH=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB_FILTER=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_SQL=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_TYPE=TRACE

# ==================================================
# JPA/HIBERNATE CONFIGURATION
# ==================================================
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=true
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect
SPRING_JPA_PROPERTIES_HIBERNATE_JDBC_BATCH_SIZE=25
SPRING_JPA_PROPERTIES_HIBERNATE_ORDER_INSERTS=true
SPRING_JPA_PROPERTIES_HIBERNATE_ORDER_UPDATES=true

# ==================================================
# CONNECTION POOL CONFIGURATION (HikariCP)
# ==================================================
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=30000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000

# ==================================================
# CACHE CONFIGURATION
# ==================================================
SPRING_CACHE_TYPE=REDIS
SPRING_DATA_REDIS_TIMEOUT=2000ms
SPRING_DATA_REDIS_DATABASE=0

# ==================================================
# EMAIL CONFIGURATION (Optional)
# ==================================================
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=tdthanh.dev2025@gmail.com
SPRING_MAIL_PASSWORD=uwod xbag oxyd kwnf
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_SSL_TRUST=smtp.gmail.com

# ==================================================
# FILE UPLOAD CONFIGURATION
# ==================================================
SPRING_SERVLET_MULTIPART_MAX_FILE_SIZE=10MB
SPRING_SERVLET_MULTIPART_MAX_REQUEST_SIZE=10MB
SPRING_SERVLET_MULTIPART_FILE_SIZE_THRESHOLD=1KB

# ==================================================
# SECURITY CONFIGURATION
# ==================================================
# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# ==================================================
# MONITORING CONFIGURATION
# ==================================================
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized

# ==================================================
# RATE LIMITING CONFIGURATION
# ==================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=5
RATE_LIMIT_WINDOW_MINUTES=1

# ==================================================
# DEVELOPMENT CONFIGURATION
# ==================================================
# Enable debug mode (development only)
JAVA_DEBUG_ENABLED=false
JAVA_DEBUG_PORT=5005

# Enable hot reload (development only)
SPRING_DEVTOOLS_RESTART_ENABLED=false
SPRING_DEVTOOLS_LIVERELoad_ENABLED=false

# ==================================================
# PRODUCTION OPTIMIZATION
# ==================================================
# JVM Options for production
JAVA_OPTS_PROD=-Xmx1024m -Xms512m -XX:+UseG1GC -XX:+UseContainerSupport
# JVM Options for development
JAVA_OPTS_DEV=-Xmx512m -Xms256m -XX:+UseG1GC

# ==================================================
# EXTERNAL SERVICE CONFIGURATION
# ==================================================
# API Gateway (if using)
GATEWAY_URL=http://localhost:8080
GATEWAY_ENABLED=false

# Message Queue (if using)
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest

# Monitoring (if using)
PROMETHEUS_URL=http://localhost:9090
GRAFANA_URL=http://localhost:3001
